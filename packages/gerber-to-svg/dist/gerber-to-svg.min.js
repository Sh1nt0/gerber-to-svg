/* copyright 2014 by mike cousins; shared under the terms of the MIT license. Source code available at github.com/mcous/gerber-to-svg */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self),r.gerberToSvg=t()}}(function(){return function t(r,e,i){function o(s,l){if(!e[s]){if(!r[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(n)return n(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var u=e[s]={exports:{}};r[s][0].call(u.exports,function(t){var e=r[s][1][t];return o(e?e:t)},u,u.exports,t,r,e,i)}return e[s].exports}for(var n="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,r){(function(e){var i,o,n,s,l,a,h,u;h=t("./obj-to-xml"),a=t("./plotter"),n=t("./drill-reader"),o=t("./drill-parser"),l=t("./gerber-reader"),s=t("./gerber-parser"),u=t("./svg-coord").factor,i={drill:!1,pretty:!1,object:!1,warnArr:null,places:null,zero:null,notation:null,units:null},r.exports=function(t,r){var c,f,p,d,x,b,m,g,w,y,v,M,k,E,q,_,R;null==r&&(r={}),b={};for(d in i)k=i[d],b[d]=k;for(d in r)k=r[d],b[d]=k;if("object"==typeof t){if(null!=t.svg)return h(t,{pretty:b.pretty});throw new Error("non SVG object cannot be converted to an SVG string")}w=null,(null!=b.places||null!=b.zero)&&(w={places:b.places,zero:b.zero}),b.drill?(v=new n(t),g=new o(w)):(v=new l(t),g=new s(w)),y=null,(null!=b.notation||null!=b.units)&&(y={notation:b.notation,units:b.units}),m=new a(v,g,y),x=null,M=null,Array.isArray(b.warnArr)&&(M="undefined"!=typeof window&&null!==window?window:e,null==M.console&&(M.console={}),x=M.console.warn,M.console.warn=function(t){return b.warnArr.push(t.toString())});try{_=m.plot()}catch(T){throw f=T,new Error("Error at line "+m.reader.line+" - "+f.message)}finally{null!=x&&null!=M&&(M.console.warn=x)}m.bbox.xMin>=m.bbox.xMax?(m.bbox.xMin=0,m.bbox.xMax=0,E=0):E=m.bbox.xMax-m.bbox.xMin,m.bbox.yMin>=m.bbox.yMax?(m.bbox.yMin=0,m.bbox.yMax=0,p=0):p=m.bbox.yMax-m.bbox.yMin,q={svg:{xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",width:""+E/u+m.units,height:""+p/u+m.units,viewBox:[m.bbox.xMin,m.bbox.yMin,E,p],_:[]}},R=m.attr;for(c in R)k=R[c],q.svg[c]=k;return m.defs.length&&q.svg._.push({defs:{_:m.defs}}),m.group.g._.length&&q.svg._.push(m.group),b.object?q:h(q,{pretty:b.pretty})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./drill-parser":3,"./drill-reader":4,"./gerber-parser":5,"./gerber-reader":6,"./obj-to-xml":9,"./plotter":12,"./svg-coord":14}],2:[function(t,r){var e;e=t("./svg-coord").get,r.exports=function(t,r){var i,o,n,s,l,a,h,u,c,f,p,d;if(null==t)return{};if(null==r.zero||null==r.places)throw new Error("format undefined");o={},n={},o.x=null!=(l=t.match(/X[+-]?[\d\.]+/))&&null!=(a=l[0])?a.slice(1):void 0,o.y=null!=(h=t.match(/Y[+-]?[\d\.]+/))&&null!=(u=h[0])?u.slice(1):void 0,o.i=null!=(c=t.match(/I[+-]?[\d\.]+/))&&null!=(f=c[0])?f.slice(1):void 0,o.j=null!=(p=t.match(/J[+-]?[\d\.]+/))&&null!=(d=p[0])?d.slice(1):void 0;for(i in o)s=o[i],null!=s&&(n[i]=e(s,r));return n}},{"./svg-coord":14}],3:[function(t,r){var e,i,o,n,s,l,a,h,u,c,f,p={}.hasOwnProperty,d=function(t,r){function e(){this.constructor=t}for(var i in r)p.call(r,i)&&(t[i]=r[i]);return e.prototype=r.prototype,t.prototype=new e,t.__super__=r.prototype,t};a=t("./parser"),c=t("./coord-parser"),u=t("./svg-coord").get,o={"FMAT,1":"M70","FMAT,2":"M72"},s="M71",e="G90",n="G91",f=/[XY]{1,2}/,h="L",l=[2,4],i=function(t){function r(){this.fmat="FMAT,2",r.__super__.constructor.call(this,arguments[0])}return d(r,t),r.prototype.parseCommand=function(t){var r,i,a,p,d,x,b,m;if(i={},";"===t[0])return i;if("FMAT,1"===t)this.fmat=t;else if("M30"===t||"M00"===t)i.set={done:!0};else if(t===o[this.fmat]||t.match(/INCH/))null==this.format.places&&(this.format.places=[2,4]),i.set={units:"in"};else if(t===s||t.match(/METRIC/))null==this.format.places&&(this.format.places=[3,3]),i.set={units:"mm"};else if(t===e)i.set={notation:"abs"};else if(t===n)i.set={notation:"inc"};else if(r=null!=(x=t.match(/T\d+/))?x[0]:void 0){for(;"0"===r[1];)r=r[0]+r.slice(2);(a=null!=(b=t.match(/C[\d\.]+(?=.*$)/))?b[0]:void 0)?(a=a.slice(1),i.tool={},i.tool[r]={dia:u(a,{places:this.format.places})}):i.set={currentTool:r}}if(t.match(/TZ/)?null==this.format.zero&&(this.format.zero="L"):t.match(/LZ/)&&null==this.format.zero&&(this.format.zero="T"),t.match(f)){i.op={"do":"flash"},null==this.format.zero&&(this.format.zero=h),null==this.format.places&&(this.format.places=l),m=c(t,this.format);for(p in m)d=m[p],i.op[p]=d}return i},r}(a),r.exports=i},{"./coord-parser":2,"./parser":11,"./svg-coord":14}],4:[function(t,r){var e;e=function(){function t(t){this.line=0,this.blocks=t.split(/\r?\n/)}return t.prototype.nextBlock=function(){return this.line<this.blocks.length?this.blocks[++this.line-1]:!1},t}(),r.exports=e},{}],5:[function(t,r){var e,i,o,n,s,l={}.hasOwnProperty,a=function(t,r){function e(){this.constructor=t}for(var i in r)l.call(r,i)&&(t[i]=r[i]);return e.prototype=r.prototype,t.prototype=new e,t.__super__=r.prototype,t};i=t("./parser"),n=t("./coord-parser"),o=t("./svg-coord").get,s=/([XYIJ][+-]?\d+){1,4}/g,e=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return a(r,t),r.prototype.parseFormat=function(t,r){var e,i,o;if(o="L"===t[2]||"T"===t[2]?t[2]:null,e="A"===t[3]||"I"===t[3]?t[3]:null,"X"===t[4]&&"Y"===t[7]&&t.slice(5,7)===t.slice(8,10)&&t[5]<8&&t[6]<8&&(i=[+t[5],+t[6]]),null==i||null==e||null==o)throw new Error("invalid format specification");return null==this.format.zero&&(this.format.zero=o),null==this.format.places&&(this.format.places=i),null==r.set&&(r.set={}),r.set.notation=e},r.prototype.parseToolDef=function(t,r){var e,i,n,s,l,a,h;for(null==r.tool&&(r.tool={}),e=null!=(a=t.match(/^ADD\d{2,}/))?a[0].slice(2):void 0,h=t.slice(2+e.length).split(","),l=h[0],s=h[1],s=null!=s?s.split("X"):void 0;"0"===e[1];)e=e[0]+e.slice(2);switch(l){case"C":if(s.length>2?i={width:o(s[1],{places:this.format.places}),height:o(s[2],{places:this.format.places})}:s.length>1&&(i={dia:o(s[1],{places:this.format.places})}),r.tool[e]={dia:o(s[0],{places:this.format.places})},null!=i)return r.tool[e].hole=i;break;case"R":case"O":if(s.length>3?i={width:o(s[2],{places:this.format.places}),height:o(s[3],{places:this.format.places})}:s.length>2&&(i={dia:o(s[2],{places:this.format.places})}),r.tool[e]={width:o(s[0],{places:this.format.places}),height:o(s[1],{places:this.format.places})},"O"===l&&(r.tool[e].obround=!0),null!=i)return r.tool[e].hole=i;break;case"P":if(s.length>4?i={width:o(s[3],{places:this.format.places}),height:o(s[4],{places:this.format.places})}:s.length>3&&(i={dia:o(s[3],{places:this.format.places})}),r.tool[e]={dia:o(s[0],{places:this.format.places}),verticies:+s[1]},s.length>2&&(r.tool[e].degrees=+s[2]),null!=i)return r.tool[e].hole=i;break;default:return s=function(){var t,r,e,i;for(e=null!=s?s:[],i=[],t=0,r=e.length;r>t;t++)n=e[t],i.push(+n);return i}(),r.tool[e]={macro:l,mods:s}}},r.prototype.parseCommand=function(t){var r,e,i,l,a,h,u,c,f,p,d,x,b,m,g,w,y,v,M,k,E,q,_,R,T,B,D;if(null==t&&(t={}),e={},p=t.param)for(w=0,y=p.length;y>w;w++)switch(f=p[w],i=f.slice(0,2)){case"FS":this.parseFormat(f,e);break;case"MO":if(x=f.slice(2,4),null==e.set&&(e.set={}),"IN"===x)e.set.units="in";else{if("MM"!==x)throw new Error(""+f+" is an invalid units setting");e.set.units="mm"}break;case"AD":this.parseToolDef(f,e);break;case"AM":return{macro:p};case"LP":if(null==e["new"]&&(e["new"]={}),("D"===f[2]||"C"===f[2])&&(e["new"].layer=f[2]),null==e["new"].layer)throw new Error("invalid level polarity");break;case"SR":if(null==e["new"]&&(e["new"]={}),m=null!=(v=null!=(M=f.match(/X[+-]?[\d\.]+/))?M[0].slice(1):void 0)?v:1,g=null!=(k=null!=(E=f.match(/Y[+-]?[\d\.]+/))?E[0].slice(1):void 0)?k:1,a=null!=(q=f.match(/I[+-]?[\d\.]+/))?q[0].slice(1):void 0,h=null!=(_=f.match(/J[+-]?[\d\.]+/))?_[0].slice(1):void 0,1>m||1>g||m>1&&(null==a||0>a)||g>1&&(null==h||0>h))throw new Error("invalid step repeat");e["new"].sr={x:+m,y:+g},null!=a&&(e["new"].sr.i=o(a,{places:this.format.places})),null!=h&&(e["new"].sr.j=o(h,{places:this.format.places}))}else if(t=t.block){if("M02"===t)return{set:{done:!0}};if("G"===t[0])switch(i=null!=(R=t.slice(1).match(/^\d{1,2}/))?R[0]:void 0){case"4":case"04":return{};case"1":case"01":case"2":case"02":case"3":case"03":i=i[i.length-1],u="1"===i?"i":"2"===i?"cw":"ccw",e.set={mode:u};break;case"36":case"37":e.set={region:"36"===i};break;case"70":case"71":e.set={backupUnits:"70"===i?"in":"mm"};break;case"74":case"75":e.set={quad:"74"===i?"s":"m"}}if(l=n(null!=(T=t.match(s))?T[0]:void 0,this.format),c=(null!=(B=t.match(/D0?[123]$/))?B[0]:void 0)||Object.keys(l).length){null!=c&&(c=c[c.length-1]),c=function(){switch(c){case"1":return"int";case"2":return"move";case"3":return"flash";default:return"last"}}(),e.op={"do":c};for(r in l)b=l[r],e.op[r]=b}else(d=null!=(D=t.match(/D\d+$/))?D[0]:void 0)&&(e.set={currentTool:d})}return e},r}(i),r.exports=e},{"./coord-parser":2,"./parser":11,"./svg-coord":14}],6:[function(t,r){var e;e=function(){function t(t){this.gerberFile=null!=t?t:"",this.line=0,this.charIndex=0,this.end=this.gerberFile.length}return t.prototype.nextBlock=function(){var t,r,e;if(this.index>=this.end)return!1;for(r="",e=!1,0===this.line&&this.line++;!(this.charIndex>=this.end);)if(t=this.gerberFile[this.charIndex++],"%"===t){if(e)return{param:e};e=[]}else if("*"===t){if(!e)return{block:r};e.push(r),r=""}else"\n"===t?this.line++:t>=" "&&"~">=t&&(r+=t);return!1},t.prototype.getLine=function(){return this.line},t}(),r.exports=e},{}],7:[function(t,r){var e,i,o,n,s,l;i=/[\+\-\/xX\(\)]/,e=/[\$\d\.]+/,o=new RegExp("("+i.source+")|("+e.source+")","g"),l=function(t){var r;return r=t.match(o)},n=function(t){return e.test(t)},s=function(t){var r,e,i,o,s,a,h;return h=l(t),e=0,a=function(){return h[e]},r=function(t){return t===a()?e++:void 0},s=function(){var t,e;if(e=a(),r(e),n(e))t={type:"n",val:e};else{if("("!==e)throw new Error(""+e+" is unexpected in an arithmetic string");if(t=i(),")"!==a())throw new Error("expected ')'");r(")")}return t},o=function(){var t,e,i;for(t=s(),i=a();"x"===i||"/"===i||"X"===i;)r(i),"X"===i&&(i="x"),e=s(),t={type:i,left:t,right:e},i=a();return t},(i=function(){var t,e,i;for(t=o(),i=a();"+"===i||"-"===i;)r(i),e=o(),t={type:i,left:t,right:e},i=a();return t})()},r.exports={tokenize:l,isNumber:n,parse:s}},{}],8:[function(t,r){var e,i,o,n,s;n=t("./pad-shapes"),i=t("./macro-calc"),s=t("./unique-id"),o=t("./svg-coord").get,e=function(){function t(t,r){this.modifiers={},this.name=t[0].slice(2),this.blocks=t.slice(1),this.shapes=[],this.masks=[],this.lastExposure=null,this.bbox=[null,null,null,null],this.format={places:r}}return t.prototype.run=function(t,r){var e,i,o,n,l,a,h,u,c,f,p,d,x,b,m,g,w,y,v;for(null==r&&(r=[]),this.lastExposure=null,this.shapes=[],this.masks=[],this.bbox=[null,null,null,null],this.modifiers={},o=c=0,x=r.length;x>c;o=++c)n=r[o],this.modifiers["$"+(o+1)]=n;for(w=this.blocks,f=0,b=w.length;b>f;f++)e=w[f],this.runBlock(e);for(a="tool-"+t+"-pad-"+s(),l=[],y=this.masks,p=0,m=y.length;m>p;p++)n=y[p],l.push(n);if(this.shapes.length>1){for(i={id:a,_:[]},v=this.shapes,d=0,g=v.length;g>d;d++)h=v[d],i._.push(h);l=[{g:i}]}else 1===this.shapes.length&&(u=Object.keys(this.shapes[0])[0],this.shapes[0][u].id=a,l.push(this.shapes[0]));return{pad:l,padId:a,bbox:this.bbox,trace:!1}},t.prototype.runBlock=function(t){var r,e,i,o,n,s,l,a;switch(t[0]){case"$":return o=null!=(a=t.match(/^\$\d+(?=\=)/))?a[0]:void 0,n=t.slice(1+o.length),this.modifiers[o]=this.getNumber(n);case"1":case"2":case"20":case"21":case"22":case"4":case"5":case"6":case"7":for(e=t.split(","),i=s=0,l=e.length;l>s;i=++s)r=e[i],e[i]=this.getNumber(r);return this.primitive(e);default:if("0"!==t[0])throw new Error("'"+t+"' unrecognized tool macro block")}},t.prototype.primitive=function(t){var r,e,i,l,a,h,u,c,f,p,d,x,b,m,g,w,y,v,M,k,E,q,_,R,T,B,D,A,L;switch(a=!1,f=!1,d=null,t[0]){case 1:d=n.circle({dia:o(t[2],this.format),cx:o(t[3],this.format),cy:o(t[4],this.format)}),0===t[1]?a=!0:this.addBbox(d.bbox);break;case 2:case 20:d=n.vector({width:o(t[2],this.format),x1:o(t[3],this.format),y1:o(t[4],this.format),x2:o(t[5],this.format),y2:o(t[6],this.format)}),t[7]&&(d.shape.line.transform="rotate("+t[7]+")"),0===t[1]?a=!0:this.addBbox(d.bbox,t[7]);break;case 21:d=n.rect({cx:o(t[4],this.format),cy:o(t[5],this.format),width:o(t[2],this.format),height:o(t[3],this.format)}),t[6]&&(d.shape.rect.transform="rotate("+t[6]+")"),0===t[1]?a=!0:this.addBbox(d.bbox,t[6]);break;case 22:d=n.lowerLeftRect({x:o(t[4],this.format),y:o(t[5],this.format),width:o(t[2],this.format),height:o(t[3],this.format)}),t[6]&&(d.shape.rect.transform="rotate("+t[6]+")"),0===t[1]?a=!0:this.addBbox(d.bbox,t[6]);break;case 4:for(u=[],e=x=3,_=3+2*t[2];_>=x;e=x+=2)u.push([o(t[e],this.format),o(t[e+1],this.format)]);d=n.outline({points:u}),(c=t[t.length-1])&&(d.shape.polygon.transform="rotate("+c+")"),0===t[1]?a=!0:this.addBbox(d.bbox,t[t.length-1]);break;case 5:if(0!==t[6]&&(0!==t[3]||0!==t[4]))throw new RangeError("polygon center must be 0,0 if rotated in macro");d=n.polygon({cx:o(t[3],this.format),cy:o(t[4],this.format),dia:o(t[5],this.format),verticies:t[2],degrees:t[6]}),0===t[1]?a=!0:this.addBbox(d.bbox);break;case 6:if(0!==t[9]&&(0!==t[1]||0!==t[2]))throw new RangeError("moiré center must be 0,0 if rotated in macro");if(d=n.moire({cx:o(t[1],this.format),cy:o(t[2],this.format),outerDia:o(t[3],this.format),ringThx:o(t[4],this.format),ringGap:o(t[5],this.format),maxRings:t[6],crossThx:o(t[7],this.format),crossLength:o(t[8],this.format)}),t[9])for(R=d.shape,b=0,w=R.length;w>b;b++)p=R[b],null!=p.line&&(p.line.transform="rotate("+t[9]+")");this.addBbox(d.bbox,t[9]);break;case 7:if(0!==t[9]&&(0!==t[1]||0!==t[2]))throw new RangeError("thermal center must be 0,0 if rotated in macro");if(d=n.thermal({cx:o(t[1],this.format),cy:o(t[2],this.format),outerDia:o(t[3],this.format),innerDia:o(t[4],this.format),gap:o(t[5],this.format)}),t[6])for(T=d.shape,m=0,y=T.length;y>m;m++)if(p=T[m],null!=p.mask)for(B=p.mask._,g=0,v=B.length;v>g;g++)l=B[g],null!=l.rect&&(l.rect.transform="rotate("+t[6]+")");this.addBbox(d.bbox,t[6]);break;default:throw new Error(""+t[0]+" is not a valid primitive code")}if(a){for(i in d.shape)d.shape[i].fill="#000";if(0!==this.lastExposure){if(this.lastExposure=0,h="macro-"+this.name+"-mask-"+s(),l={mask:{id:h}},l.mask._=[{rect:{x:this.bbox[0],y:this.bbox[1],width:this.bbox[2]-this.bbox[0],height:this.bbox[3]-this.bbox[1],fill:"#fff"}}],1===this.shapes.length)for(i in this.shapes[0])this.shapes[0][i].mask="url(#"+h+")";else if(this.shapes.length>1){for(r={mask:"url(#"+h+")",_:[]},D=this.shapes,E=0,M=D.length;M>E;E++)p=D[E],r._.push(p);this.shapes=[{g:r}]}this.masks.push(l)}return this.masks[this.masks.length-1].mask._.push(d.shape)}if(this.lastExposure=1,Array.isArray(d.shape)){for(A=d.shape,L=[],q=0,k=A.length;k>q;q++)p=A[q],L.push(null!=p.mask?this.masks.push(p):this.shapes.push(p));return L}return this.shapes.push(d.shape)},t.prototype.addBbox=function(t,r){var e,i,o,n,s,l,a,h,u;if(null==r&&(r=0),r){for(s=Math.sin(r*Math.PI/180),i=Math.cos(r*Math.PI/180),Math.abs(s)<1e-9&&(s=0),Math.abs(i)<1e-9&&(i=0),n=[[t[0],t[1]],[t[2],t[1]],[t[2],t[3]],[t[0],t[3]]],h=0,u=n.length;u>h;h++)o=n[h],l=o[0]*i-o[1]*s,a=o[0]*s+o[1]*i,(null===this.bbox[0]||l<this.bbox[0])&&(this.bbox[0]=l),(null===this.bbox[1]||a<this.bbox[1])&&(this.bbox[1]=a),(null===this.bbox[2]||l>this.bbox[2])&&(this.bbox[2]=l),(null===this.bbox[3]||a>this.bbox[3])&&(this.bbox[3]=a);return this.bbox=function(){var t,r,i,o;for(i=this.bbox,o=[],t=0,r=i.length;r>t;t++)e=i[t],o.push(e===-0?0:e);return o}.call(this)}return(null===this.bbox[0]||t[0]<this.bbox[0])&&(this.bbox[0]=t[0]),(null===this.bbox[1]||t[1]<this.bbox[1])&&(this.bbox[1]=t[1]),(null===this.bbox[2]||t[2]>this.bbox[2])&&(this.bbox[2]=t[2]),null===this.bbox[3]||t[3]>this.bbox[3]?this.bbox[3]=t[3]:void 0},t.prototype.getNumber=function(t){return t.match(/^[+-]?[\d.]+$/)?Number(t):t.match(/^\$\d+$/)?Number(this.modifiers[t]):this.evaluate(i.parse(t))},t.prototype.evaluate=function(t){switch(t.type){case"n":return this.getNumber(t.val);case"+":return this.evaluate(t.left)+this.evaluate(t.right);case"-":return this.evaluate(t.left)-this.evaluate(t.right);case"x":return this.evaluate(t.left)*this.evaluate(t.right);case"/":return this.evaluate(t.left)/this.evaluate(t.right)}},t}(),r.exports=e},{"./macro-calc":7,"./pad-shapes":10,"./svg-coord":14,"./unique-id":15}],9:[function(t,r){var e,i,o,n;n=function(t,r){var e;if(e="",0===r)return"";for(;r>1;)1&r&&(e+=t),r>>=1,t+=t;return e+t},e="_",i="  ",o=function(t,r){var s,l,a,h,u,c,f,p,d,x,b,m,g,w,y,v,M,k,E;if(null==r&&(r={}),x=r.pretty,c=null!=(M=r.indent)?M:0,l=null!=(k=r.maxDec)?k:!1,a=function(t){return"number"==typeof t?Number(t.toFixed(l)):t},p=x?"\n":"",b=p?"string"==typeof x?x:i:"",b=n(b,c),w="","function"==typeof t&&(t=t()),Array.isArray(t))for(u=y=0,v=t.length;v>y;u=++y)d=t[u],w+=(0!==u?p:"")+o(d,r);else if("object"==typeof t){if(s=!1,h=Object.keys(t)[0],null!=h){w=""+b+"<"+h,"function"==typeof t[h]&&(t[h]=t[h]()),E=t[h];for(f in E)g=E[f],"function"==typeof g&&(g=g()),f===e?s=g:(Array.isArray(g)&&(l&&(g=function(){var t,r,e;for(e=[],t=0,r=g.length;r>t;t++)m=g[t],e.push(a(m));return e}()),g=g.join(" ")),l&&(g=a(g)),w+=" "+f+'="'+g+'"');s&&(w+=">"+p+o(s,{pretty:x,indent:c+1})),w+=null!=t[h]._?""+p+b+"</"+h+">":"/>"}}else w+=""+t+" ";return w},r.exports=o},{}],10:[function(t,r){var e,i,o,n,s,l,a,h,u;h=t("./unique-id"),e=function(t){var r;if(null==t.dia)throw new Error("circle function requires diameter");if(null==t.cx)throw new Error("circle function requires x center");if(null==t.cy)throw new Error("circle function requires y center");return r=t.dia/2,{shape:{circle:{cx:t.cx,cy:t.cy,r:r}},bbox:[t.cx-r,t.cy-r,t.cx+r,t.cy+r]}},l=function(t){var r,e,i,o;if(null==t.width)throw new Error("rectangle requires width");if(null==t.height)throw new Error("rectangle requires height");if(null==t.cx)throw new Error("rectangle function requires x center");if(null==t.cy)throw new Error("rectangle function requires y center");return i=t.cx-t.width/2,o=t.cy-t.height/2,e={shape:{rect:{x:i,y:o,width:t.width,height:t.height}},bbox:[i,o,i+t.width,o+t.height]},t.obround&&(r=.5*Math.min(t.width,t.height),e.shape.rect.rx=r,e.shape.rect.ry=r),e},s=function(t){var r,e,i,o,n,s,l,a,h,u,c,f,p,d,x,b;if(null==t.dia)throw new Error("polygon requires diameter");if(null==t.verticies)throw new Error("polygon requires verticies");if(null==t.cx)throw new Error("polygon function requires x center");if(null==t.cy)throw new Error("polygon function requires y center");for(s=null!=t.degrees?t.degrees*Math.PI/180:0,l=2*Math.PI/t.verticies,i=t.dia/2,e="",c=null,d=null,u=null,p=null,r=x=0,b=t.verticies;b>=0?b>x:x>b;r=b>=0?++x:--x)a=s+r*l,o=i*Math.cos(a),n=i*Math.sin(a),Math.abs(o)<1e-9&&(o=0),Math.abs(n)<1e-9&&(n=0),h=t.cx+o,f=t.cy+n,(c>h||null===c)&&(c=h),(h>u||null===u)&&(u=h),(d>f||null===d)&&(d=f),(f>p||null===p)&&(p=f),e+=" "+h+","+f;return{shape:{polygon:{points:e.slice(1)}},bbox:[c,d,u,p]}},u=function(t){var r,e,i;if(null==t.x1)throw new Error("vector function requires start x");if(null==t.y1)throw new Error("vector function requires start y");if(null==t.x2)throw new Error("vector function requires end x");if(null==t.y2)throw new Error("vector function requires end y");if(null==t.width)throw new Error("vector function requires width");return r=Math.abs(Math.atan((t.y2-t.y1)/(t.x2-t.x1))),e=t.width/2*Math.sin(r),i=t.width/2*Math.cos(r),1e-7>e&&(e=0),1e-7>i&&(i=0),{shape:{line:{x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,"stroke-width":t.width,"stroke-linecap":"butt"}},bbox:[Math.min(t.x1,t.x2)-e,Math.min(t.y1,t.y2)-i,Math.max(t.x1,t.x2)+e,Math.max(t.y1,t.y2)+i]}},i=function(t){if(null==t.width)throw new Error("lower left rect requires width");if(null==t.height)throw new Error("lower left rect requires height");if(null==t.x)throw new Error("lower left rectangle requires x");if(null==t.y)throw new Error("lower left rectangle requires y");return{shape:{rect:{x:t.x,y:t.y,width:t.width,height:t.height}},bbox:[t.x,t.y,t.x+t.width,t.y+t.height]}},n=function(t){var r,e,i,o,n,s,l,a,h,u,c,f,p;if(!(Array.isArray(t.points)&&t.points.length>1))throw new Error("outline function requires points array");for(s=null,u=null,n=null,h=null,e="",p=t.points,c=0,f=p.length;f>c;c++){if(r=p[c],!Array.isArray(r)||2!==r.length)throw new Error("outline function requires points array");i=r[0],l=r[1],(s>i||null===s)&&(s=i),(i>n||null===n)&&(n=i),(u>l||null===u)&&(u=l),(l>h||null===h)&&(h=l),e+=" "+i+","+l}if(o=t.points[t.points.length-1][0],a=t.points[t.points.length-1][1],o!==t.points[0][0]||a!==t.points[0][1])throw new RangeError("last point must match first point of outline");return{shape:{polygon:{points:e.slice(1)}},bbox:[s,u,n,h]}},o=function(t){var r,e,i;if(null==t.cx)throw new Error("moiré requires x center");if(null==t.cy)throw new Error("moiré requires y center");if(null==t.outerDia)throw new Error("moiré requires outer diameter");if(null==t.ringThx)throw new Error("moiré requires ring thickness");if(null==t.ringGap)throw new Error("moiré requires ring gap");if(null==t.maxRings)throw new Error("moiré requires max rings");if(null==t.crossLength)throw new Error("moiré requires crosshair length");if(null==t.crossThx)throw new Error("moiré requires crosshair thickness");for(i=[{line:{x1:t.cx-t.crossLength/2,y1:0,x2:t.cx+t.crossLength/2,y2:0,"stroke-width":t.crossThx,"stroke-linecap":"butt"}},{line:{x1:0,y1:t.cy-t.crossLength/2,x2:0,y2:t.cy+t.crossLength/2,"stroke-width":t.crossThx,"stroke-linecap":"butt"}}],r=(t.outerDia-t.ringThx)/2,e=0;r>=t.ringThx&&e<t.maxRings;)i.push({circle:{cx:t.cx,cy:t.cy,r:r,fill:"none","stroke-width":t.ringThx}}),e++,r-=t.ringThx+t.ringGap;return r+=.5*t.ringThx,r>0&&e<t.maxRings&&i.push({circle:{cx:t.cx,cy:t.cy,r:r}}),{shape:i,bbox:[Math.min(t.cx-t.crossLength/2,t.cx-t.outerDia/2),Math.min(t.cy-t.crossLength/2,t.cy-t.outerDia/2),Math.max(t.cx+t.crossLength/2,t.cx+t.outerDia/2),Math.max(t.cy+t.crossLength/2,t.cy+t.outerDia/2)]}},a=function(t){var r,e,i,o,n,s,l,a,u;if(null==t.cx)throw new Error("thermal requires x center");if(null==t.cy)throw new Error("thermal requires y center");if(null==t.outerDia)throw new Error("thermal requires outer diameter");if(null==t.innerDia)throw new Error("thermal requires inner diameter");if(null==t.gap)throw new Error("thermal requires gap");return e="thermal-mask-"+h(),n=(t.outerDia-t.innerDia)/2,i=t.outerDia/2,o=i-n/2,l=t.cx-i,s=t.cx+i,u=t.cy-i,a=t.cy+i,r=t.gap/2,{shape:[{mask:{id:e,_:[{circle:{cx:t.cx,cy:t.cy,r:i,fill:"#fff"}},{rect:{x:l,y:-r,width:t.outerDia,height:t.gap,fill:"#000"}},{rect:{x:-r,y:u,width:t.gap,height:t.outerDia,fill:"#000"}}]}},{circle:{cx:t.cx,cy:t.cy,r:o,fill:"none","stroke-width":n,mask:"url(#"+e+")"}}],bbox:[l,u,s,a]}},r.exports={circle:e,rect:l,polygon:s,vector:u,lowerLeftRect:i,outline:n,moire:o,thermal:a}},{"./unique-id":15}],11:[function(t,r){var e;e=function(){function t(t){var r,e;if(null==t&&(t={}),this.format={zero:null!=(r=t.zero)?r:null,places:null!=(e=t.places)?e:null},null!=this.format.places&&(!Array.isArray(this.format.places)||2!==this.format.places.length||"number"!=typeof this.format.places[0]||"number"!=typeof this.format.places[1]))throw new Error("parser places format must be an array of two numbers");if(null!=this.format.zero&&("string"!=typeof this.format.zero||"L"!==this.format.zero&&"T"!==this.format.zero))throw new Error("parser zero format must be either 'L' or 'T'")}return t}(),r.exports=e},{}],12:[function(t,r){var e,i,o,n,s,l,a,h,u;u=t("./unique-id"),o=t("./macro-tool"),h=t("./standard-tool"),a=t("./svg-coord").factor,i=Math.PI/2,s=3*i,l=2*Math.PI,e="in",n=function(){function t(t,r,e){var i,o;this.reader=t,this.parser=r,null==e&&(e={}),this.units=null!=(i=e.units)?i:null,this.notation=null!=(o=e.notation)?o:null,this.macros={},this.tools={},this.currentTool="",this.defs=[],this.group={g:{_:[]}},this.polarity="D",this.current=[],this.stepRepeat={x:1,y:1,i:0,j:0},this.srOverClear=!1,this.srOverCurrent=[],this.mode=null,this.quad=null,this.lastOp=null,this.region=!1,this.done=!1,this.pos={x:0,y:0},this.path=[],this.attr={"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":0,stroke:"#000"},this.bbox={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0},this.layerBbox={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0}}return t.prototype.addTool=function(t,r){var e,i;if(null!=this.tools[t])throw new Error("cannot reassign tool "+t);return i=null!=r.macro?this.macros[r.macro].run(t,r.mods):h(t,r),this.tools[t]={trace:i.trace,pad:function(){var t,r,o,n;for(o=i.pad,n=[],t=0,r=o.length;r>t;t++)e=o[t],n.push(e);return n}(),flash:function(t,r){return{use:{x:t,y:r,"xlink:href":"#"+i.padId}}},bbox:function(t,r){return null==t&&(t=0),null==r&&(r=0),{xMin:t+i.bbox[0],yMin:r+i.bbox[1],xMax:t+i.bbox[2],yMax:r+i.bbox[3]}}},this.changeTool(t)},t.prototype.changeTool=function(t){var r;if(this.finishPath(),this.region)throw new Error("cannot change tool when in region mode");if(null!=this.tools[t])return this.currentTool=t;if(!(null!=(r=this.parser)?r.fmat:void 0))throw new Error("tool "+t+" is not defined")},t.prototype.command=function(t){var r,e,i,n,s,l,a;if(null!=t.macro)return e=new o(t.macro,this.parser.format.places),void(this.macros[e.name]=e);l=t.set;for(n in l)switch(s=l[n],"region"===n&&this.finishPath(),n){case"currentTool":this.changeTool(s);break;case"units":case"notation":null==this[n]&&(this[n]=s);break;default:this[n]=s}if(null!=t.tool){a=t.tool;for(r in a)i=a[r],this.addTool(r,i)}if(null!=t.op&&this.operate(t.op),null!=t["new"]){if(this.finishLayer(),null!=t["new"].layer)return this.polarity=t["new"].layer;if(null!=t["new"].sr)return this.finishSR(),this.stepRepeat=t["new"].sr}},t.prototype.plot=function(){for(var t,r;!this.done;){if(t=this.reader.nextBlock(),t===!1)throw new Error(null==(null!=(r=this.parser)?r.fmat:void 0)?"end of file encountered before required M02 command":"end of drill file encountered before M00/M30 command");this.command(this.parser.parseCommand(t))}return this.finish()},t.prototype.finish=function(){return this.finishPath(),this.finishLayer(),this.finishSR(),this.group.g.fill="currentColor",this.group.g.stroke="currentColor",this.group.g.transform="translate(0,"+(this.bbox.yMin+this.bbox.yMax)+") scale(1,-1)"},t.prototype.finishSR=function(){var t,r,e,i,o,n,s,l,a,h,c,f,p,d,x,b;if(this.srOverClear&&this.srOverCurrent){for(e="gerber-sr-mask_"+u(),r={mask:{color:"#000",id:e,_:[]}},r.mask._.push({rect:{fill:"#fff",x:this.bbox.xMin,y:this.bbox.yMin,width:this.bbox.xMax-this.bbox.xMin,height:this.bbox.yMax-this.bbox.yMin}}),o=s=0,c=this.stepRepeat.x*this.stepRepeat.i,f=this.stepRepeat.i;f>0?c>s:s>c;o=s+=f)for(n=l=0,p=this.stepRepeat.y*this.stepRepeat.j,d=this.stepRepeat.j;d>0?p>l:l>p;n=l+=d)for(x=this.srOverCurrent,a=0,h=x.length;h>a;a++)t=x[a],i={use:{}},0!==o&&(i.use.x=o),0!==n&&(i.use.y=n),i.use["xlink:href"]="#"+(null!=(b=t.C)?b:t.D),null!=t.D&&(i.use.fill="#fff"),r.mask._.push(i);return this.srOverClear=!1,this.srOverCurrent=[],this.defs.push(r),this.group.g.mask="url(#"+e+")"}},t.prototype.finishLayer=function(){var t,r,e,i,o,n,s,l,a,h,c,f,p,d,x,b;if(this.finishPath(),this.current.length){if(this.stepRepeat.x>1||this.stepRepeat.y>1){for(o="gerber-sr_"+u(),this.current=[{g:{id:o,_:this.current}}],(this.srOverClear||this.stepRepeat.i<this.layerBbox.xMax-this.layerBbox.xMin||this.stepRepeat.j<this.layerBbox.yMax-this.layerBbox.yMin)&&(i={},i[this.polarity]=o,this.srOverCurrent.push(i),"C"===this.polarity&&(this.srOverClear=!0,this.defs.push(this.current[0]))),l=h=0,d=this.stepRepeat.x;d>=0?d>h:h>d;l=d>=0?++h:--h)for(a=c=0,x=this.stepRepeat.y;x>=0?x>c:c>x;a=x>=0?++c:--c)(0!==l||0!==a)&&(n={use:{"xlink:href":"#"+o}},0!==l&&(n.use.x=l*this.stepRepeat.i),0!==a&&(n.use.y=a*this.stepRepeat.j),this.current.push(n));this.layerBbox.xMax+=(this.stepRepeat.x-1)*this.stepRepeat.i,this.layerBbox.yMax+=(this.stepRepeat.y-1)*this.stepRepeat.j}if(this.addBbox(this.layerBbox,this.bbox),this.layerBbox={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0},"D"===this.polarity)if(null!=this.group.g.mask&&this.current.unshift(this.group),null==this.group.g.mask&&this.group.g._.length)for(b=this.current,f=0,p=b.length;p>f;f++)t=b[f],this.group.g._.push(t);else this.group={g:{_:this.current}};else"C"!==this.polarity||this.srOverClear||(e="gerber-mask_"+u(),s=this.bbox.xMax-this.bbox.xMin,r=this.bbox.yMax-this.bbox.yMin,this.current.unshift({rect:{x:this.bbox.xMin,y:this.bbox.yMin,width:s,height:r,fill:"#fff"}}),this.defs.push({mask:{id:e,color:"#000",_:this.current}}),this.group.g.mask="url(#"+e+")");return this.current=[]}},t.prototype.finishPath=function(){var t,r,e,i;if(this.path.length){if(r={path:{}},this.region)this.path.push("Z");else{i=this.tools[this.currentTool].trace;for(t in i)e=i[t],r.path[t]=e}return r.path.d=this.path,this.current.push(r),this.path=[]}},t.prototype.operate=function(t){var r,i,o,n,s,l,a,h,u,c,f,p,d,x,b;if("last"===t["do"]?t["do"]=this.lastOp:this.lastOp=t["do"],s=this.pos.x,l=this.pos.y,"I"===this.notation?(this.pos.x+=null!=(c=t.x)?c:0,this.pos.y+=null!=(f=t.y)?f:0):(this.pos.x=null!=(p=t.x)?p:this.pos.x,this.pos.y=null!=(d=t.y)?d:this.pos.y),i=this.pos.x,o=this.pos.y,a=this.tools[this.currentTool],null==this.units&&(this.units=null!=this.backupUnits?this.backupUnits:e),null==this.notation){if(null==(null!=(x=this.parser)?x.fmat:void 0))throw new Error("format has not been set");this.notation="A"}if("move"===t["do"]&&this.path.length)return this.path.push("M",i,o);if("flash"===t["do"]){if(this.finishPath(),this.region)throw new Error("cannot flash while in region mode");if(a.pad){for(b=a.pad,h=0,u=b.length;u>h;h++)n=b[h],this.defs.push(n);a.pad=!1}return this.current.push(a.flash(i,o)),this.addBbox(a.bbox(i,o),this.layerBbox)}if("int"===t["do"]){if(!this.region&&!a.trace)throw new Error(""+this.currentTool+" is not a strokable tool");return 0===this.path.length&&(this.path.push("M",s,l),r=this.region?{xMin:s,yMin:l,xMax:s,yMax:l}:a.bbox(s,l),this.addBbox(r,this.layerBbox)),null==this.mode&&(this.mode="i"),"i"===this.mode?this.drawLine(s,l,i,o):(null==t.i&&(t.i=0),null==t.j&&(t.j=0),this.drawArc(s,l,i,o,t.i,t.j))}},t.prototype.drawLine=function(t,r,e,o){var n,s,l,a,h,u,c,f,p,d,x,b,m;return b=this.tools[this.currentTool],n=this.region?{xMin:e,yMin:o,xMax:e,yMax:o}:b.bbox(e,o),this.addBbox(n,this.layerBbox),this.region||b.trace["stroke-width"]>=0?this.path.push("L",e,o):(c=b.pad[0].rect.width/2,u=b.pad[0].rect.height/2,f=t-c,p=t+c,d=r-u,x=r+u,s=e-c,l=e+c,a=o-u,h=o+u,m=Math.atan2(o-r,e-t),m>=0&&i>m?this.path.push("M",f,d,p,d,l,a,l,h,s,h,f,x,"Z"):m>=i&&m<Math.PI?this.path.push("M",f,d,p,d,p,x,l,h,s,h,s,a,"Z"):-Math.PI<=m&&-i>m?this.path.push("M",p,d,p,x,f,x,s,h,s,a,l,a,"Z"):m>=-i&&0>m?this.path.push("M",f,d,s,a,l,a,l,h,p,x,f,x,"Z"):void 0)},t.prototype.drawArc=function(t,r,e,o,n,h){var u,c,f,p,d,x,b,m,g,w,y,v,M,k,E,q,_,R,T,B,D,A,L,O,z,C,I,j,P,N;if(u=1.5*a*Math.pow(10,-1*(null!=(j=null!=(P=this.parser)?P.format.places[1]:void 0)?j:7)),w=this.tools[this.currentTool],!this.region&&!w.trace["stroke-width"])throw Error("cannot stroke an arc with non-circular tool "+this.currentTool);if(null==this.quad)throw new Error("arc quadrant mode has not been set");for(b=Math.sqrt(Math.pow(n,2)+Math.pow(h,2)),g="cw"===this.mode?0:1,x=0,k=[],f=[[t+n,r+h]],"s"===this.quad&&f.push([t-n,r-h],[t-n,r+h],[t+n,r-h]),O=0,C=f.length;C>O;O++)c=f[O],d=Math.sqrt(Math.pow(c[0]-e,2)+Math.pow(c[1]-o,2)),Math.abs(b-d)<u&&k.push({x:c[0],y:c[1]});for(v=0,M=0,p=null,z=0,I=k.length;I>z&&(c=k[z],v=Math.atan2(o-c.y,e-c.x),0>v&&(v+=l),M=Math.atan2(r-c.y,t-c.x),0>M&&(M+=l),"cw"===this.mode&&v>M?M+=l:"ccw"===this.mode&&M>v&&(v+=l),y=Math.abs(v-M),"s"===this.quad&&i>=y?p=c:"m"===this.quad&&(y>=Math.PI&&(x=1),p={x:c.x,y:c.y}),null==p);z++);return null!=p?(m=this.region?0:w.bbox().xMax,"cw"===this.mode&&(N=[M,v],v=N[0],M=N[1]),R=M>0?l:0,A=i+(M>i?l:0),_=Math.PI+(M>Math.PI?l:0),D=s+(M>s?l:0),q=_>=M&&v>=_?p.x-b-m:Math.min(t,e)-m,E=R>=M&&v>=R?p.x+b+m:Math.max(t,e)+m,B=D>=M&&v>=D?p.y-b-m:Math.min(r,o)-m,T=A>=M&&v>=A?p.y+b+m:Math.max(r,o)+m,L=Math.abs(t-e)<u&&Math.abs(r-o)<u,"m"===this.quad&&L&&(this.path.push("A",b,b,0,0,g,e+2*n,o+2*h),q=p.x-b-m,B=p.y-b-m,E=p.x+b+m,T=p.y+b+m),this.path.push("A",b,b,0,x,g,e,o),"s"===this.quad&&L&&this.path.push("Z"),this.addBbox({xMin:q,yMin:B,xMax:E,yMax:T},this.layerBbox)):void 0
},t.prototype.addBbox=function(t,r){return t.xMin<r.xMin&&(r.xMin=t.xMin),t.yMin<r.yMin&&(r.yMin=t.yMin),t.xMax>r.xMax&&(r.xMax=t.xMax),t.yMax>r.yMax?r.yMax=t.yMax:void 0},t}(),r.exports=n},{"./macro-tool":8,"./standard-tool":13,"./svg-coord":14,"./unique-id":15}],13:[function(t,r){var e,i,o;o=t("./unique-id"),e=t("./pad-shapes"),i=function(t,r){var i,n,s,l,a,h,u;if(h={pad:[],trace:!1},r.cx=0,r.cy=0,n="tool-"+t+"-pad-"+o(),u="",null!=r.dia&&null==r.verticies){if(null!=r.obround||null!=r.width||null!=r.height||null!=r.degrees)throw new Error("incompatible parameters for tool "+t);if(r.dia<0)throw new RangeError(""+t+" circle diameter out of range ("+r.dia+"<0)");u="circle",null==r.hole&&(h.trace={"stroke-width":r.dia,fill:"none"})}else if(null!=r.width&&null!=r.height){if(null!=r.dia||null!=r.verticies||null!=r.degrees)throw new Error("incompatible parameters for tool "+t);if(r.width<0)throw new RangeError(""+t+" rect width out of range ("+r.width+"<0)");if(r.height<0)throw new RangeError(""+t+" rect height out of range ("+r.height+"<0)");u="rect",0!==r.width&&0!==r.height||r.obround||(u="circle",r.dia=0),null!=r.hole||r.obround||(h.trace={})}else{if(null==r.dia||null==r.verticies)throw new Error("unidentified standard tool shape");if(null!=r.obround||null!=r.width||null!=r.height)throw new Error("incompatible parameters for tool "+t);if(r.verticies<3||r.verticies>12)throw new RangeError(""+t+" polygon points out of range ("+r.verticies+"<3 or >12)]");u="polygon"}if(a=e[u](r),null!=r.hole){if(i=null,null!=r.hole.dia&&null==r.hole.width&&null==r.hole.height){if(!(r.hole.dia>=0))throw new RangeError(""+t+" hole diameter out of range ("+r.hole.dia+"<0)");i=e.circle({cx:r.cx,cy:r.cy,dia:r.hole.dia}),i=i.shape,i.circle.fill="#000"}else{if(null==r.hole.width||null==r.hole.height)throw new Error(""+t+" has invalid hole parameters");if(!(r.hole.width>=0))throw new RangeError(""+t+" hole width out of range ("+r.hole.width+"<0)");if(!(r.hole.height>=0))throw new RangeError(""+t+" hole height out of range ("+r.hole.height+"<0)");i=e.rect({cx:r.cx,cy:r.cy,width:r.hole.width,height:r.hole.height}),i=i.shape,i.rect.fill="#000"}l=n+"-mask",s={mask:{id:n+"-mask",_:[{rect:{x:a.bbox[0],y:a.bbox[1],width:a.bbox[2]-a.bbox[0],height:a.bbox[3]-a.bbox[1],fill:"#fff"}},i]}},a.shape[u].mask="url(#"+l+")",h.pad.push(s)}return n&&(a.shape[u].id=n),h.pad.push(a.shape),h.bbox=a.bbox,h.padId=n,h},r.exports=i},{"./pad-shapes":10,"./unique-id":15}],14:[function(t,r){var e,i,o=[].indexOf||function(t){for(var r=0,e=this.length;e>r;r++)if(r in this&&this[r]===t)return r;return-1};e=3,i=function(t,r){var i,n,s,l,a,h,u,c,f,p,d,x,b,m;if(null==t)return 0/0;if(t=""+t,n="",i="",a="+",("-"===t[0]||"+"===t[0])&&(a=t[0],t=t.slice(1)),o.call(t,".")>=0||null==r.zero){if(h=t.split("."),h.length>2)return 0/0;x=[h[0],null!=(d=h[1])?d:""],n=x[0],i=x[1]}else{if("number"!=typeof(null!=r&&null!=(b=r.places)?b[0]:void 0)||"number"!=typeof(null!=r&&null!=(m=r.places)?m[1]:void 0))return 0/0;if("T"===r.zero){for(l=u=0,f=t.length;f>u;l=++u)s=t[l],l<r.places[0]?n+=s:i+=s;for(;n.length<r.places[0];)n+="0"}else if("L"===r.zero){for(l=c=0,p=t.length;p>c;l=++c)s=t[l],t.length-l<=r.places[1]?i+=s:n+=s;for(;i.length<r.places[1];)i="0"+i}}for(;i.length<e;)i+="0";return n+=i.slice(0,e),i=i.length>e?"."+i.slice(e):"",Number(a+n+i)},r.exports={get:i,factor:Math.pow(10,e)}},{}],15:[function(t,r){var e,i;i=1e3,e=function(){return i++},r.exports=e},{}]},{},[1])(1)});